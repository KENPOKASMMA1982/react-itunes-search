(this.webpackJsonpapplemusic=this.webpackJsonpapplemusic||[]).push([[0],{30:function(e,t,a){e.exports=a(43)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=(a(35),a(15)),s=a(7),i=(a(36),a(37),function(e){return r.a.createElement("header",{className:"App-header"},r.a.createElement("h2",null,e.text))}),u=(a(38),a(6)),m=a(47),E=a(28),p=function(e){var t=e.album,a=t.releaseDate.substring(0,10),n=t.artworkUrl100.replace("100x100","500x500"),l=t.collectionName.length>15?t.collectionName.substring(0,15)+"...":t.collectionName,o=t.artistName.length>15?t.artistName.substring(0,15)+"...":t.artistName;return r.a.createElement("div",{className:"Album"},r.a.createElement(u.a,{style:{width:"18rem"}},r.a.createElement(u.a.Img,{variant:"top",src:n}),r.a.createElement(u.a.Header,null,l),r.a.createElement(u.a.Body,null,r.a.createElement(u.a.Title,null,o),r.a.createElement(u.a.Link,{href:t.artistViewUrl,target:"_blank"},"See Artist")),r.a.createElement(m.a,{className:"list-group-flush"},r.a.createElement(E.a,null,t.collectionType),r.a.createElement(E.a,null,t.primaryGenreName),r.a.createElement(E.a,null,a)),r.a.createElement(u.a.Footer,null,r.a.createElement(u.a.Link,{href:t.collectionViewUrl,target:"_blank"},"Buy"))))},f=a(12),h=(a(39),function(e){var t=Object(n.useState)({searchValue:"",attribute:"artistTerm",limit:"10"}),a=Object(c.a)(t,2),l=a[0],o=a[1],i=function(e){var t=Object(s.a)({},l,Object(f.a)({},e.target.name,e.target.value));o(t)};return r.a.createElement("form",{className:"search"},r.a.createElement("select",{id:"attribute",name:"attribute",onChange:i},r.a.createElement("option",{value:"artistTerm"},"Search by artist name"),r.a.createElement("option",{value:"albumTerm"},"Search by album name"),r.a.createElement("option",{value:"composerTerm"},"Search by composer name"),r.a.createElement("option",{value:"songTerm"},"Search by song title")),r.a.createElement("input",{name:"searchValue",value:l.searchValue,onChange:i,type:"text"}),r.a.createElement("select",{id:"limit",name:"limit",onChange:i},r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"25"},"25"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"),r.a.createElement("option",{value:"200"},"200")),r.a.createElement("input",{onClick:function(t){t.preventDefault(),e.search(l),o(Object(s.a)({},l,{searchValue:""}))},type:"submit",value:"SEARCH"}))}),b=a(46),d=a(48),v=function(e){return r.a.createElement(b.a,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Header,null,r.a.createElement(b.a.Toggle,{as:d.a,variant:"link",eventKey:"0"},"Disclaimer")),r.a.createElement(b.a.Collapse,{eventKey:"0"},r.a.createElement(u.a.Body,null,"The Search API allows you to place search fields in your website to search for content within the iTunes Store and Apple Books Store. You can search for a variety of content; including books, movies, podcasts, music, music videos, audiobooks, and TV shows. Developers may use promotional content in the API, including previews of songs, music videos, album art and App icons only to promote store content and not for entertainment purposes. Use of sound samples and other assets from the API must be proximate to a store badge"))))},g=a(27),A=a(45),S={albums:[],offset:0,form:null,errorMessage:null},y=function(e,t){switch(t.type){case"SEARCH_ALBUM_INIT":return Object(s.a)({},e,{form:t.form,errorMessage:null});case"SEARCH_ALBUM_SUCCESS":return Object(s.a)({},e,{albums:t.results,offset:0});case"SEARCH_ALBUM_FAILURE":return Object(s.a)({},e,{errorMessage:t.error,form:null});case"MORE_ALBUM_SUCCESS":return Object(s.a)({},e,{albums:e.albums.concat(t.results),offset:e.offset+parseInt(e.form.limit)});default:return e}};var C=function(){var e=Object(n.useReducer)(y,S),t=Object(c.a)(e,2),a=t[0],l=t[1],o=function(e){var t=a.offset,n=!!e;if(n?l({type:"SEARCH_ALBUM_INIT",form:e}):e=a.form,null!=e){var r=e,o=r.searchValue,c=r.attribute,s=r.limit,i=n?t:t+parseInt(s),u=n?"SEARCH_ALBUM_SUCCESS":"MORE_ALBUM_SUCCESS",m="https://itunes.apple.com/search?term=".concat(o,"&entity=album&attribute=").concat(c,"&limit=").concat(s,"&offset=").concat(i);fetch(m).then((function(e){return e.json()})).then((function(e){e.resultCount>0?l({type:u,results:e.results}):l({type:"SEARCH_ALBUM_FAILURE",error:e.Error})}))}else l({type:"SEARCH_ALBUM_FAILURE",error:"invalid search value"})},s=a.albums,u=a.form,m=a.errorMessage;return r.a.createElement("div",{className:"App"},r.a.createElement(i,{text:"iTUNES ALBUM SEARCH"}),r.a.createElement(v,null),r.a.createElement(h,{search:function(e){o(e)}}),r.a.createElement(g.a,{dataLength:s.length,next:function(){o()},hasMore:!0,loader:u?r.a.createElement(A.a,{animation:"border"}):"",endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"End of content"))},r.a.createElement("div",{className:"albums"},s.map((function(e,t){return r.a.createElement(p,{key:"".concat(t,"-").concat(e.collectionId),album:e})})))),r.a.createElement("div",null,m?{errorMessage:m}:""))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.bcc35350.chunk.js.map